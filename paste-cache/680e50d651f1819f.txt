[INFO] 2026-01-16T16:59:19.356Z - Sending command to device { imei: '862798050831581', commandType: 'COMMAND', paramCount: 1 }
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE `main`.`Token`.`expiresAt` > ? ORDER BY `main`.`Token`.`createdAt` DESC LIMIT ? OFFSET ?
[ERROR] 2026-01-16T16:59:19.744Z - Error sending command {
  status: 403,
  data: {
    message: "Invalid key=value pair (missing equal-sign) in Authorization header (hashed with SHA-256 and encoded with Base64): 'uXLdf0dh9uQaIPjvNLJdjraLF5h8NDw23YZetwo/4l0='."
  },
  error: AxiosError: Request failed with status code 403
      at settle (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\core\settle.js:19:12)
      at IncomingMessage.handleStreamEnd (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\adapters\http.js:793:11)
      at IncomingMessage.emit (node:events:520:35)
      at endReadableNT (node:internal/streams/readable:1701:12)
      at processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\core\Axios.js:45:41)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at GolfleetService.sendCommand (C:\Users\Luis Romano\videotelemetria-ui\backend\src\services\golfleet.ts:120:24)
      at C:\Users\Luis Romano\videotelemetria-ui\backend\src\routes\commands.ts:69:20 {
    code: 'ERR_BAD_REQUEST',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.golfleet.apiv3.com',
      method: 'post',
      url: '/order/devices/862798050831581',
      data: '{"type":"COMMAND","parameters":[{"module":"cmdd","key":"shellCmd","value":"reboot","type":"string"}]}',
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 101,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /order/devices/862798050831581 HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer eyJraWQiOiIwQjNsYWFraG94ZkhVbG5xSXZmY1g5Z29qalF4d29wRXN3SHEzXC9HRVRBMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI3NWU0NDRjZi1lMzFiLTRkOWMtOTQ5NS1kMWQ4ZjQzODFmMzgiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfaUpzeGszUGVOIiwiY29nbml0bzp1c2VybmFtZSI6Imx1aXNyb21hbm8iLCJvcmlnaW5fanRpIjoiMzQwNjVkNjYtNWQ1Ny00ZmIzLThhMDYtNzhmMTY0OWI4ZDQ3IiwiYXVkIjoiNGcydnJxamRncm5vZnByY3Y1MWI0aWx2azIiLCJldmVudF9pZCI6ImNjZjJlNDg4LTVmNTEtNGRlMC1hNDIzLWM0ZGI2MTgwMjNiMyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzY4NTgyNTIxLCJleHAiOjE3Njg1ODYxMjEsImlhdCI6MTc2ODU4MjUyMSwianRpIjoiMTZjMzliMGYtYTFlMi00OTdmLTk0NmUtMDg4ZDY3MDQxZTk0IiwiZW1haWwiOiJsdWlzLnJvbWFub0Bnb2xmbGVldC5jb20uYnIifQ.jz724JTzpuFu18tBwBXT0iiRNCSAOM61hd9XKvekBjkarUWAnWMQY--CC9RJ7r83pGrEcFaSYnhkAbLDkFJ7TVQMfN30m4nZSctbxliW_t9AFHuznaxt6tUsz0zUC9W57Z1uQoHDP_zoGcn3xNT8EkNP9WiPhNBCa_wLGS6xWmmnmsmc02vgMX-OJIXjLCp78jJOmTSn_mOtj8Gxp2igA5Tnv6YkSylS2j_cQdL7INHE3cPKjtviaqLQZErPdT9jG-7iEp-U3gthcXFcAkZaKM6GNguEG3v67cPmKj-7_cVI78DtNIPPzUpD9CWq2NIebGL8BAHCIT9hfhZGPrj4Hg\r\n' +
        'User-Agent: axios/1.13.2\r\n' +
        'Content-Length: 101\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.golfleet.apiv3.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/order/devices/862798050831581',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.golfleet.apiv3.com',
      protocol: 'https:',
      _redirectable: [Writable],
      Symbol(shapeMode): false,
      Symbol(kCapture): false,
      Symbol(kBytesWritten): 0,
      Symbol(kNeedDrain): false,
      Symbol(corked): 0,
      Symbol(kChunkedBuffer): [],
      Symbol(kChunkedLength): 0,
      Symbol(kSocket): [TLSSocket],
      Symbol(kOutHeaders): [Object: null prototype],
      Symbol(errored): null,
      Symbol(kHighWaterMark): 16384,
      Symbol(kRejectNonStandardBodyWrites): false,
      Symbol(kUniqueHeaders): null
    },
    response: {
      status: 403,
      statusText: 'Forbidden',
      headers: [Object [AxiosHeaders]],
      config: [Object],
      request: [ClientRequest],
      data: [Object]
    },
    status: 403
  }
}
[ERROR] 2026-01-16T16:59:19.745Z - Error sending command {
  body: {
    imei: '862798050831581',
    command: { type: 'COMMAND', parameters: [Array] }
  },
  error: AxiosError: Request failed with status code 403
      at settle (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\core\settle.js:19:12)
      at IncomingMessage.handleStreamEnd (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\adapters\http.js:793:11)
      at IncomingMessage.emit (node:events:520:35)
      at endReadableNT (node:internal/streams/readable:1701:12)
      at processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\core\Axios.js:45:41)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at GolfleetService.sendCommand (C:\Users\Luis Romano\videotelemetria-ui\backend\src\services\golfleet.ts:120:24)
      at C:\Users\Luis Romano\videotelemetria-ui\backend\src\routes\commands.ts:69:20 {
    code: 'ERR_BAD_REQUEST',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.golfleet.apiv3.com',
      method: 'post',
      url: '/order/devices/862798050831581',
      data: '{"type":"COMMAND","parameters":[{"module":"cmdd","key":"shellCmd","value":"reboot","type":"string"}]}',
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 101,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /order/devices/862798050831581 HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer eyJraWQiOiIwQjNsYWFraG94ZkhVbG5xSXZmY1g5Z29qalF4d29wRXN3SHEzXC9HRVRBMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI3NWU0NDRjZi1lMzFiLTRkOWMtOTQ5NS1kMWQ4ZjQzODFmMzgiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfaUpzeGszUGVOIiwiY29nbml0bzp1c2VybmFtZSI6Imx1aXNyb21hbm8iLCJvcmlnaW5fanRpIjoiMzQwNjVkNjYtNWQ1Ny00ZmIzLThhMDYtNzhmMTY0OWI4ZDQ3IiwiYXVkIjoiNGcydnJxamRncm5vZnByY3Y1MWI0aWx2azIiLCJldmVudF9pZCI6ImNjZjJlNDg4LTVmNTEtNGRlMC1hNDIzLWM0ZGI2MTgwMjNiMyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzY4NTgyNTIxLCJleHAiOjE3Njg1ODYxMjEsImlhdCI6MTc2ODU4MjUyMSwianRpIjoiMTZjMzliMGYtYTFlMi00OTdmLTk0NmUtMDg4ZDY3MDQxZTk0IiwiZW1haWwiOiJsdWlzLnJvbWFub0Bnb2xmbGVldC5jb20uYnIifQ.jz724JTzpuFu18tBwBXT0iiRNCSAOM61hd9XKvekBjkarUWAnWMQY--CC9RJ7r83pGrEcFaSYnhkAbLDkFJ7TVQMfN30m4nZSctbxliW_t9AFHuznaxt6tUsz0zUC9W57Z1uQoHDP_zoGcn3xNT8EkNP9WiPhNBCa_wLGS6xWmmnmsmc02vgMX-OJIXjLCp78jJOmTSn_mOtj8Gxp2igA5Tnv6YkSylS2j_cQdL7INHE3cPKjtviaqLQZErPdT9jG-7iEp-U3gthcXFcAkZaKM6GNguEG3v67cPmKj-7_cVI78DtNIPPzUpD9CWq2NIebGL8BAHCIT9hfhZGPrj4Hg\r\n' +
        'User-Agent: axios/1.13.2\r\n' +
        'Content-Length: 101\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.golfleet.apiv3.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/order/devices/862798050831581',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.golfleet.apiv3.com',
      protocol: 'https:',
      _redirectable: [Writable],
      Symbol(shapeMode): false,
      Symbol(kCapture): false,
      Symbol(kBytesWritten): 0,
      Symbol(kNeedDrain): false,
      Symbol(corked): 0,
      Symbol(kChunkedBuffer): [],
      Symbol(kChunkedLength): 0,
      Symbol(kSocket): [TLSSocket],
      Symbol(kOutHeaders): [Object: null prototype],
      Symbol(errored): null,
      Symbol(kHighWaterMark): 16384,
      Symbol(kRejectNonStandardBodyWrites): false,
      Symbol(kUniqueHeaders): null
    },
    response: {
      status: 403,
      statusText: 'Forbidden',
      headers: [Object [AxiosHeaders]],
      config: [Object],
      request: [ClientRequest],
      data: [Object]
    },
    status: 403
  }
}
prisma:query SELECT 1
prisma:query DELETE FROM `main`.`Token` WHERE 1=1
prisma:query INSERT INTO `main`.`Token` (`token`, `expiresAt`, `createdAt`) VALUES (?,?,?) RETURNING `id` AS `id`, `token` AS `token`, `expiresAt` AS `expiresAt`, `createdAt` AS `createdAt`
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE `main`.`Token`.`token` = ? LIMIT ? OFFSET ?
Login successful {
  tokenSaved: true,
  expiresAt: 2026-01-16T22:54:51.623Z,
  now: 2026-01-16T16:59:51.635Z,
  minutesUntilExpiry: 354.9998
}
[Auth] Validating token { tokenPrefix: 'eyJraWQiOi', path: '/', method: 'GET' }
[Auth] Validating token { tokenPrefix: 'eyJraWQiOi', path: '/862798050831581', method: 'GET' }
prisma:query SELECT 1
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE (`main`.`Token`.`token` = ? AND `main`.`Token`.`expiresAt` > ?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE (`main`.`Token`.`token` = ? AND `main`.`Token`.`expiresAt` > ?) LIMIT ? OFFSET ?
[Auth] Token valid {
  tokenPrefix: 'eyJraWQiOi',
  expiresAt: 2026-01-16T22:54:51.623Z,
  minutesRemaining: 355
}
[INFO] 2026-01-16T17:00:08.217Z - Fetching command history { imei: '862798050831581', limit: 50, offset: 0 }
[Auth] Token valid {
  tokenPrefix: 'eyJraWQiOi',
  expiresAt: 2026-01-16T22:54:51.623Z,
  minutesRemaining: 355
}
[INFO] 2026-01-16T17:00:08.219Z - Fetching orders for device { imei: '862798050831581' }
prisma:query SELECT `main`.`CommandHistory`.`id`, `main`.`CommandHistory`.`imei`, `main`.`CommandHistory`.`orderUlid`, `main`.`CommandHistory`.`commandType`, `main`.`CommandHistory`.`description`, `main`.`CommandHistory`.`payload`, `main`.`CommandHistory`.`status`, `main`.`CommandHistory`.`sentAt`, `main`.`CommandHistory`.`updatedAt` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? ORDER BY `main`.`CommandHistory`.`sentAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE `main`.`Token`.`expiresAt` > ? ORDER BY `main`.`Token`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`CommandHistory`.`id` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? LIMIT ? OFFSET ?) AS `sub`
[INFO] 2026-01-16T17:00:08.223Z - Command history retrieved { count: 0, total: 0 }
[INFO] 2026-01-16T17:00:10.297Z - Orders retrieved successfully { imei: '862798050831581', count: 100 }
[Auth] Validating token { tokenPrefix: 'eyJraWQiOi', path: '/', method: 'GET' }
prisma:query SELECT 1
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE (`main`.`Token`.`token` = ? AND `main`.`Token`.`expiresAt` > ?) LIMIT ? OFFSET ?
[Auth] Token valid {
  tokenPrefix: 'eyJraWQiOi',
  expiresAt: 2026-01-16T22:54:51.623Z,
  minutesRemaining: 354
}
[INFO] 2026-01-16T17:00:38.245Z - Fetching command history { imei: '862798050831581', limit: 50, offset: 0 }
prisma:query SELECT `main`.`CommandHistory`.`id`, `main`.`CommandHistory`.`imei`, `main`.`CommandHistory`.`orderUlid`, `main`.`CommandHistory`.`commandType`, `main`.`CommandHistory`.`description`, `main`.`CommandHistory`.`payload`, `main`.`CommandHistory`.`status`, `main`.`CommandHistory`.`sentAt`, `main`.`CommandHistory`.`updatedAt` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? ORDER BY `main`.`CommandHistory`.`sentAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`CommandHistory`.`id` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? LIMIT ? OFFSET ?) AS `sub`
[INFO] 2026-01-16T17:00:38.248Z - Command history retrieved { count: 0, total: 0 }
[Auth] Validating token { tokenPrefix: 'eyJraWQiOi', path: '/', method: 'GET' }
prisma:query SELECT 1
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE (`main`.`Token`.`token` = ? AND `main`.`Token`.`expiresAt` > ?) LIMIT ? OFFSET ?
[Auth] Token valid {
  tokenPrefix: 'eyJraWQiOi',
  expiresAt: 2026-01-16T22:54:51.623Z,
  minutesRemaining: 354
}
[INFO] 2026-01-16T17:01:08.265Z - Fetching command history { imei: '862798050831581', limit: 50, offset: 0 }
prisma:query SELECT `main`.`CommandHistory`.`id`, `main`.`CommandHistory`.`imei`, `main`.`CommandHistory`.`orderUlid`, `main`.`CommandHistory`.`commandType`, `main`.`CommandHistory`.`description`, `main`.`CommandHistory`.`payload`, `main`.`CommandHistory`.`status`, `main`.`CommandHistory`.`sentAt`, `main`.`CommandHistory`.`updatedAt` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? ORDER BY `main`.`CommandHistory`.`sentAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`CommandHistory`.`id` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? LIMIT ? OFFSET ?) AS `sub`
[INFO] 2026-01-16T17:01:08.268Z - Command history retrieved { count: 0, total: 0 }
[Auth] Validating token { tokenPrefix: 'eyJraWQiOi', path: '/', method: 'GET' }
prisma:query SELECT 1
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE (`main`.`Token`.`token` = ? AND `main`.`Token`.`expiresAt` > ?) LIMIT ? OFFSET ?
[Auth] Token valid {
  tokenPrefix: 'eyJraWQiOi',
  expiresAt: 2026-01-16T22:54:51.623Z,
  minutesRemaining: 353
}
[INFO] 2026-01-16T17:01:38.293Z - Fetching command history { imei: '862798050831581', limit: 50, offset: 0 }
prisma:query SELECT `main`.`CommandHistory`.`id`, `main`.`CommandHistory`.`imei`, `main`.`CommandHistory`.`orderUlid`, `main`.`CommandHistory`.`commandType`, `main`.`CommandHistory`.`description`, `main`.`CommandHistory`.`payload`, `main`.`CommandHistory`.`status`, `main`.`CommandHistory`.`sentAt`, `main`.`CommandHistory`.`updatedAt` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? ORDER BY `main`.`CommandHistory`.`sentAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`CommandHistory`.`id` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? LIMIT ? OFFSET ?) AS `sub`
[INFO] 2026-01-16T17:01:38.295Z - Command history retrieved { count: 0, total: 0 }
[Auth] Validating token { tokenPrefix: 'eyJraWQiOi', path: '/', method: 'GET' }
prisma:query SELECT 1
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE (`main`.`Token`.`token` = ? AND `main`.`Token`.`expiresAt` > ?) LIMIT ? OFFSET ?
[Auth] Token valid {
  tokenPrefix: 'eyJraWQiOi',
  expiresAt: 2026-01-16T22:54:51.623Z,
  minutesRemaining: 353
}
[INFO] 2026-01-16T17:02:08.312Z - Fetching command history { imei: '862798050831581', limit: 50, offset: 0 }
prisma:query SELECT `main`.`CommandHistory`.`id`, `main`.`CommandHistory`.`imei`, `main`.`CommandHistory`.`orderUlid`, `main`.`CommandHistory`.`commandType`, `main`.`CommandHistory`.`description`, `main`.`CommandHistory`.`payload`, `main`.`CommandHistory`.`status`, `main`.`CommandHistory`.`sentAt`, `main`.`CommandHistory`.`updatedAt` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? ORDER BY `main`.`CommandHistory`.`sentAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`CommandHistory`.`id` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? LIMIT ? OFFSET ?) AS `sub`
[INFO] 2026-01-16T17:02:08.314Z - Command history retrieved { count: 0, total: 0 }
[Auth] Validating token { tokenPrefix: 'eyJraWQiOi', path: '/', method: 'GET' }
prisma:query SELECT 1
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE (`main`.`Token`.`token` = ? AND `main`.`Token`.`expiresAt` > ?) LIMIT ? OFFSET ?
[Auth] Token valid {
  tokenPrefix: 'eyJraWQiOi',
  expiresAt: 2026-01-16T22:54:51.623Z,
  minutesRemaining: 352
}
[INFO] 2026-01-16T17:02:38.333Z - Fetching command history { imei: '862798050831581', limit: 50, offset: 0 }
prisma:query SELECT `main`.`CommandHistory`.`id`, `main`.`CommandHistory`.`imei`, `main`.`CommandHistory`.`orderUlid`, `main`.`CommandHistory`.`commandType`, `main`.`CommandHistory`.`description`, `main`.`CommandHistory`.`payload`, `main`.`CommandHistory`.`status`, `main`.`CommandHistory`.`sentAt`, `main`.`CommandHistory`.`updatedAt` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? ORDER BY `main`.`CommandHistory`.`sentAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`CommandHistory`.`id` FROM `main`.`CommandHistory` WHERE `main`.`CommandHistory`.`imei` = ? LIMIT ? OFFSET ?) AS `sub`
[INFO] 2026-01-16T17:02:38.336Z - Command history retrieved { count: 0, total: 0 }
[Auth] Validating token { tokenPrefix: 'eyJraWQiOi', path: '/send', method: 'POST' }
prisma:query SELECT 1
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE (`main`.`Token`.`token` = ? AND `main`.`Token`.`expiresAt` > ?) LIMIT ? OFFSET ?
[Auth] Token valid {
  tokenPrefix: 'eyJraWQiOi',
  expiresAt: 2026-01-16T22:54:51.623Z,
  minutesRemaining: 352
}
[INFO] 2026-01-16T17:03:00.295Z - Sending command to device { imei: '862798050831581', commandType: 'CONFIG', paramCount: 1 }
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE `main`.`Token`.`expiresAt` > ? ORDER BY `main`.`Token`.`createdAt` DESC LIMIT ? OFFSET ?
[ERROR] 2026-01-16T17:03:00.534Z - Error sending command {
  status: 403,
  data: {
    message: "Invalid key=value pair (missing equal-sign) in Authorization header (hashed with SHA-256 and encoded with Base64): 'KLGC7bgoPgqmY4Nvyck8yNHrCFGhnFpYSDWguxNBuSY='."
  },
  error: AxiosError: Request failed with status code 403
      at settle (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\core\settle.js:19:12)
      at IncomingMessage.handleStreamEnd (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\adapters\http.js:793:11)
      at IncomingMessage.emit (node:events:520:35)
      at endReadableNT (node:internal/streams/readable:1701:12)
      at processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\core\Axios.js:45:41)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at GolfleetService.sendCommand (C:\Users\Luis Romano\videotelemetria-ui\backend\src\services\golfleet.ts:120:24)
      at C:\Users\Luis Romano\videotelemetria-ui\backend\src\routes\commands.ts:69:20 {
    code: 'ERR_BAD_REQUEST',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.golfleet.apiv3.com',
      method: 'post',
      url: '/order/devices/862798050831581',
      data: '{"type":"CONFIG","parameters":[{"module":"voiced","key":"MEDIA_VOLUME","value":"75","type":"float"}]}',
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 101,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /order/devices/862798050831581 HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer eyJraWQiOiIwQjNsYWFraG94ZkhVbG5xSXZmY1g5Z29qalF4d29wRXN3SHEzXC9HRVRBMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI3NWU0NDRjZi1lMzFiLTRkOWMtOTQ5NS1kMWQ4ZjQzODFmMzgiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfaUpzeGszUGVOIiwiY29nbml0bzp1c2VybmFtZSI6Imx1aXNyb21hbm8iLCJvcmlnaW5fanRpIjoiODJiNmE5YzQtZWQxOS00MDdhLTliN2QtMzJiNTg1MzNjZjU4IiwiYXVkIjoiNGcydnJxamRncm5vZnByY3Y1MWI0aWx2azIiLCJldmVudF9pZCI6IjUxNDY3MmY2LTEyNzctNGVmOS05Mjk5LTk0NzNkMDQ0NTIzYiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzY4NTgyNzkxLCJleHAiOjE3Njg1ODYzOTEsImlhdCI6MTc2ODU4Mjc5MSwianRpIjoiNjlhMGQ5YjMtYjczNC00YzczLWEzMzMtZjc5M2IwY2FiZmU5IiwiZW1haWwiOiJsdWlzLnJvbWFub0Bnb2xmbGVldC5jb20uYnIifQ.j5Pd-otlu0fJoEw5I_0zn7KAW76QjPYkK_SvXM-CpzeLOQHOgtaFt76QCDfdgEIuoLsX6lSLzfKlgLD0hDkr0Lh3TVB-dU1Ufih4Zzpdzylob7mqut8AIvVUyMdZbkW-hbHptiBYEqMwJKpZWOogmdKFGGIxAyZ7K2hI4odQpygu42ckaALB2V5BlFsV5PKRCs_pMqxiY8V0g4XVAaGtfb8i7qRu6o0nX7v79XihzrngJI06dcr9jwEJpw2SJdpSaMHC2_meF3Hr7YCzfRg_qAYQpGjdMsGsvEXszQ7tSujxb5qecoTx41x_DhTdDmcJpviaxXaKRptHb3mAZIxlsA\r\n' +
        'User-Agent: axios/1.13.2\r\n' +
        'Content-Length: 101\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.golfleet.apiv3.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/order/devices/862798050831581',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.golfleet.apiv3.com',
      protocol: 'https:',
      _redirectable: [Writable],
      Symbol(shapeMode): false,
      Symbol(kCapture): false,
      Symbol(kBytesWritten): 0,
      Symbol(kNeedDrain): false,
      Symbol(corked): 0,
      Symbol(kChunkedBuffer): [],
      Symbol(kChunkedLength): 0,
      Symbol(kSocket): [TLSSocket],
      Symbol(kOutHeaders): [Object: null prototype],
      Symbol(errored): null,
      Symbol(kHighWaterMark): 16384,
      Symbol(kRejectNonStandardBodyWrites): false,
      Symbol(kUniqueHeaders): null
    },
    response: {
      status: 403,
      statusText: 'Forbidden',
      headers: [Object [AxiosHeaders]],
      config: [Object],
      request: [ClientRequest],
      data: [Object]
    },
    status: 403
  }
}
[ERROR] 2026-01-16T17:03:00.535Z - Error sending command {
  body: {
    imei: '862798050831581',
    command: { type: 'CONFIG', parameters: [Array] }
  },
  error: AxiosError: Request failed with status code 403
      at settle (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\core\settle.js:19:12)
      at IncomingMessage.handleStreamEnd (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\adapters\http.js:793:11)
      at IncomingMessage.emit (node:events:520:35)
      at endReadableNT (node:internal/streams/readable:1701:12)
      at processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (C:\Users\Luis Romano\videotelemetria-ui\node_modules\axios\lib\core\Axios.js:45:41)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at GolfleetService.sendCommand (C:\Users\Luis Romano\videotelemetria-ui\backend\src\services\golfleet.ts:120:24)
      at C:\Users\Luis Romano\videotelemetria-ui\backend\src\routes\commands.ts:69:20 {
    code: 'ERR_BAD_REQUEST',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.golfleet.apiv3.com',
      method: 'post',
      url: '/order/devices/862798050831581',
      data: '{"type":"CONFIG","parameters":[{"module":"voiced","key":"MEDIA_VOLUME","value":"75","type":"float"}]}',
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 101,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /order/devices/862798050831581 HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer eyJraWQiOiIwQjNsYWFraG94ZkhVbG5xSXZmY1g5Z29qalF4d29wRXN3SHEzXC9HRVRBMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI3NWU0NDRjZi1lMzFiLTRkOWMtOTQ5NS1kMWQ4ZjQzODFmMzgiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfaUpzeGszUGVOIiwiY29nbml0bzp1c2VybmFtZSI6Imx1aXNyb21hbm8iLCJvcmlnaW5fanRpIjoiODJiNmE5YzQtZWQxOS00MDdhLTliN2QtMzJiNTg1MzNjZjU4IiwiYXVkIjoiNGcydnJxamRncm5vZnByY3Y1MWI0aWx2azIiLCJldmVudF9pZCI6IjUxNDY3MmY2LTEyNzctNGVmOS05Mjk5LTk0NzNkMDQ0NTIzYiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzY4NTgyNzkxLCJleHAiOjE3Njg1ODYzOTEsImlhdCI6MTc2ODU4Mjc5MSwianRpIjoiNjlhMGQ5YjMtYjczNC00YzczLWEzMzMtZjc5M2IwY2FiZmU5IiwiZW1haWwiOiJsdWlzLnJvbWFub0Bnb2xmbGVldC5jb20uYnIifQ.j5Pd-otlu0fJoEw5I_0zn7KAW76QjPYkK_SvXM-CpzeLOQHOgtaFt76QCDfdgEIuoLsX6lSLzfKlgLD0hDkr0Lh3TVB-dU1Ufih4Zzpdzylob7mqut8AIvVUyMdZbkW-hbHptiBYEqMwJKpZWOogmdKFGGIxAyZ7K2hI4odQpygu42ckaALB2V5BlFsV5PKRCs_pMqxiY8V0g4XVAaGtfb8i7qRu6o0nX7v79XihzrngJI06dcr9jwEJpw2SJdpSaMHC2_meF3Hr7YCzfRg_qAYQpGjdMsGsvEXszQ7tSujxb5qecoTx41x_DhTdDmcJpviaxXaKRptHb3mAZIxlsA\r\n' +
        'User-Agent: axios/1.13.2\r\n' +
        'Content-Length: 101\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.golfleet.apiv3.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/order/devices/862798050831581',
      _ended: true,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.golfleet.apiv3.com',
      protocol: 'https:',
      _redirectable: [Writable],
      Symbol(shapeMode): false,
      Symbol(kCapture): false,
      Symbol(kBytesWritten): 0,
      Symbol(kNeedDrain): false,
      Symbol(corked): 0,
      Symbol(kChunkedBuffer): [],
      Symbol(kChunkedLength): 0,
      Symbol(kSocket): [TLSSocket],
      Symbol(kOutHeaders): [Object: null prototype],
      Symbol(errored): null,
      Symbol(kHighWaterMark): 16384,
      Symbol(kRejectNonStandardBodyWrites): false,
      Symbol(kUniqueHeaders): null
    },
    response: {
      status: 403,
      statusText: 'Forbidden',
      headers: [Object [AxiosHeaders]],
      config: [Object],
      request: [ClientRequest],
      data: [Object]
    },
    status: 403
  }
}
prisma:query DELETE FROM `main`.`Token` WHERE 1=1
prisma:query INSERT INTO `main`.`Token` (`token`, `expiresAt`, `createdAt`) VALUES (?,?,?) RETURNING `id` AS `id`, `token` AS `token`, `expiresAt` AS `expiresAt`, `createdAt` AS `createdAt`
prisma:query SELECT `main`.`Token`.`id`, `main`.`Token`.`token`, `main`.`Token`.`expiresAt`, `main`.`Token`.`createdAt` FROM `main`.`Token` WHERE `main`.`Token`.`token` = ? LIMIT ? OFFSET ?
Login successful {
  tokenSaved: true,
  expiresAt: 2026-01-16T22:58:02.307Z,
  now: 2026-01-16T17:03:02.319Z,
  minutesUntilExpiry: 354.9998
}
[INFO] 14:04:40 Restarting: C:\Users\Luis Romano\videotelemetria-ui\backend\src\services\golfleet.ts has been modified
[INFO] 2026-01-16T17:04:41.056Z - Golfleet API initialized { baseURL: 'https://api.golfleet.apiv3.com' }
Server running on port 3000
Environment: development
Health check: http://localhost:3000/health
CORS enabled for: http://localhost:5173
[INFO] 14:04:50 Restarting: C:\Users\Luis Romano\videotelemetria-ui\backend\src\services\golfleet.ts has been modified
[INFO] 2026-01-16T17:04:50.986Z - Golfleet API initialized { baseURL: 'https://api.golfleet.apiv3.com' }
Server running on port 3000
Environment: development
Health check: http://localhost:3000/health
CORS enabled for: http://localhost:5173
[INFO] 14:05:01 Restarting: C:\Users\Luis Romano\videotelemetria-ui\backend\src\services\golfleet.ts has been modified
[INFO] 2026-01-16T17:05:02.147Z - Golfleet API initialized { baseURL: 'https://api.golfleet.apiv3.com' }
Error: listen EADDRINUSE: address already in use :::3000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (C:\Users\Luis Romano\videotelemetria-ui\node_modules\express\lib\application.js:635:24)
    at Object.<anonymous> (C:\Users\Luis Romano\videotelemetria-ui\backend\src\server.ts:80:5)
    at Module.<anonymous> (node:internal/modules/cjs/loader:1760:14)
    at Module._compile (C:\Users\Luis Romano\videotelemetria-ui\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\LUISRO~1\AppData\Local\Temp\ts-node-dev-hook-41785314896582915.js:69:33)
    at node:internal/modules/cjs/loader:1893:10
    at require.extensions..jsx.require.extensions..js (C:\Users\LUISRO~1\AppData\Local\Temp\ts-node-dev-hook-41785314896582915.js:114:20)
[ERROR] 14:05:02 Error: listen EADDRINUSE: address already in use :::3000
